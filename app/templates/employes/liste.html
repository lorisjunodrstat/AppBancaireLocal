{% extends "base.html" %}

{% block title %}Liste des employés{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <div>
        <a href="{{ url_for('banking.index') }}">← Retour au tableau de bord</a>
    </div>
    <div>
        <a href="{{ url_for('banking.create_employe') }}" class="btn btn-primary">+ Nouvel employé</a>
    </div>
</div>
<div class="card">
    <div class="card-header">
        Gestion des employés
    </div>
    <div class="card-body">
        <p>Ajoutez, modifiez ou supprimez des employés dans votre système.</p>
        <h2>Liste des employés</h2>
        <a href="{{ url_for('banking.create_employe') }}">+ Nouvel employé</a>
        <table border="1">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Prénom</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for e in employes %}
                <tr>
                    <td>{{ e.nom }}</td>
                    <td>{{ e.prenom }}</td>
                    <td>{{ e.email or '' }}</td>
                    <td>
                        <a href="{{ url_for('banking.detail_employe', employe_id=e.id, user_id=current_user.id) }}">Détail</a>
                        <a
                            href="{{ url_for('banking.modifier_employe', employe_id=e.id, user_id=current_user.id) }}">Modifier</a>
                        <form method="post" action="{{ url_for('banking.supprimer_employe', employe_id=e.id) }}"
                            style="display:inline;">
                            <button type="submit" onclick="return confirm('Confirmer ?')">Supprimer</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}