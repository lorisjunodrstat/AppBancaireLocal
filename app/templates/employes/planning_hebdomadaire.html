{% extends "base.html" %}

{% block title %}Planning hebdomadaire{% endblock %}

{% block content %}
<h2>Planning ‚Äî Semaine du {{ week_dates[0].strftime('%d/%m/%Y') }} au {{ week_dates[-1].strftime('%d/%m/%Y') }}</h2>

<div style="margin-bottom: 1rem; display: flex; gap: 1rem; flex-wrap: wrap;">
    <!-- Bouton pour ouvrir le modal de simulation -->
    <button type="button" class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#modalSimulation">
        Simuler semaine
    </button>

    <!-- Bouton pour ouvrir le modal de r√©initialisation -->
    <button type="button" class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#modalReset">
        R√©initialiser semaine
    </button>
</div>

{% if not employes %}
<div class="alert alert-info">
    Aucun employ√© n'est affect√© √† ce contrat. <a
        href="{{ url_for('banking.liste_employe', user_id=current_user.id) }}">Ajouter un employ√©</a>.
</div>
{% else %}
<!-- Tableau horizontal : employ√©s en lignes, heures en colonnes -->
<div style="overflow-x: auto; margin-top: 20px;">
    <table style="border-collapse: collapse; width: 100%; min-width: 1200px;">
        <thead>
            <tr>
                <!-- Colonne fixe pour les noms d'employ√©s -->
                <th
                    style="width: 200px; padding: 12px; background: #f8f9fa; border: 1px solid #ddd; text-align: left; position: sticky; left: 0; z-index: 10;">
                    Employ√©s
                </th>

                <!-- Heures de la journ√©e (6h √† 23h) pour chaque jour -->
                {% for day in week_dates %}
                <th colspan="19" style="padding: 8px; background: #e9ecef; border: 1px solid #ddd; text-align: center;">
                    <div style="font-weight: bold; font-size: 1.1em;">{{ day.strftime('%A %d/%m') }}</div>
                    <div style="font-size: 0.9em; color: #666;">{{ day.strftime('%Y') }}</div>
                </th>
                {% endfor %}
            </tr>

            <!-- Ligne d'en-t√™te pour les heures -->
            <tr>
                <th style="background: #f8f9fa; border: 1px solid #ddd; position: sticky; left: 0; z-index: 10;"></th>

                {% for day in week_dates %}
                {% for hour in range(6, 24) %}
                <th
                    style="width: 30px; padding: 4px; background: #f0f0f0; border: 1px solid #ddd; text-align: center; font-size: 0.8em;">
                    {{ hour }}h
                </th>
                {% endfor %}
                <!-- Total du jour -->
                <th
                    style="width: 50px; padding: 4px; background: #e0e0e0; border: 1px solid #ddd; text-align: center; font-weight: bold; font-size: 0.8em;">
                    Total
                </th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
            {% for employe in employes %}
            <tr style="background: {% if loop.index % 2 == 0 %}#f9f9f9{% else %}#ffffff{% endif %};">
                <!-- Nom de l'employ√© (colonne fixe) -->
                <td
                    style="padding: 8px; border: 1px solid #ddd; position: sticky; left: 0; background: {% if loop.index % 2 == 0 %}#f9f9f9{% else %}#ffffff{% endif %}; z-index: 5;">
                    <div style="font-weight: bold;">
                        {{ employe.prenom }} {{ employe.nom }}
                    </div>
                    <div style="font-size: 0.8em; color: #666;">
                        {{ employe.poste|default('') }}
                    </div>
                    <div style="font-size: 0.8em; color: #666;">
                        {{ employe.equipe_nom|default('') }}
                    </div>
                    <!-- Bouton pour voir le planning de cet employ√© -->
                    <div style="margin-top: 5px;">
                        <a href="{{ url_for('banking.planning_employe', employe_id=employe.id) }}"
                            class="btn btn-sm btn-outline-primary" style="font-size: 0.7em;">
                            Voir planning
                        </a>
                    </div>
                </td>

                {% for day in week_dates %}
                {% set day_key = day.strftime('%Y-%m-%d') %}
                {% set shifts = shifts_by_employe_jour.get(employe.id, {}).get(day_key, []) %}

                <!-- Cellules pour chaque heure (6h-23h) -->
                {% for hour in range(6, 24) %}
                <td style="padding: 0; border: 1px solid #eee; height: 40px; position: relative;">
                    {% set hour_has_shift = false %}

                    {% for shift in shifts %}
                    {% if shift.heure_debut and shift.heure_fin %}
                    {% set shift_start = shift.heure_debut|int if shift.heure_debut is number else
                    (shift.heure_debut.split(':')[0]|int if ':' in shift.heure_debut|string else shift.heure_debut|int)
                    %}
                    {% set shift_end = shift.heure_fin|int if shift.heure_fin is number else
                    (shift.heure_fin.split(':')[0]|int if ':' in shift.heure_fin|string else shift.heure_fin|int) %}

                    {% if hour >= shift_start and hour < shift_end %} {% set hour_has_shift=true %} <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background: {% if shift.type_shift == 'pause' %}#9E9E9E
                                      {% elif shift.type_shift == 'formation' %}#2196F3
                                      {% elif shift.type_shift == 'r√©union' %}#FF9800
                                      {% elif shift.type_shift == 't√©l√©travail' %}#9C27B0
                                      {% elif shift.valide|default(true) %}#4CAF50
                                      {% else %}#F44336{% endif %};
                            opacity: 0.8;
                            border-radius: 2px;
                            z-index: 1;
                        " title="{{ shift.type_shift|default('travail')|capitalize }}: {{ shift.heure_debut }} - {{ shift.heure_fin }}
{{ shift.commentaire|default('') }}">
                        <!-- Heure de d√©but -->
                        {% if hour == shift_start %}
                        <div
                            style="position: absolute; top: 2px; left: 2px; font-size: 0.7em; color: white; font-weight: bold;">
                            {{ shift.heure_debut }}
                        </div>
                        {% endif %}

                        <!-- Heure de fin -->
                        {% if hour == shift_end - 1 %}
                        <div
                            style="position: absolute; bottom: 2px; right: 2px; font-size: 0.7em; color: white; font-weight: bold;">
                            {{ shift.heure_fin }}
                        </div>
                        {% endif %}
</div>
{% endif %}
{% endif %}
{% endfor %}

<!-- Si pas de shift, afficher un fond clair -->
{% if not hour_has_shift %}
<div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background: #f9f9f9;
                    "></div>
{% endif %}

<!-- Bouton pour ajouter/modifier un shift -->
<div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 2;
                    ">
    <!-- Formulaire pour modifier la journ√©e -->
    <form method="post" action="{{ url_for('banking.planning_modifier_jour') }}"
        style="display: inline; margin: 0; padding: 0;">
        <input type="hidden" name="employe_id" value="{{ employe.id }}">
        <input type="hidden" name="date" value="{{ day_key }}">
        <input type="hidden" name="employeur" value="">
        <input type="hidden" name="id_contrat" value="">
        <input type="hidden" name="annee" value="">
        <input type="hidden" name="mois" value="">
        <input type="hidden" name="semaine" value="">
        <input type="hidden" name="mode" value="planning">
        <button type="submit" style="
                                        background: rgba(0,0,0,0.1);
                                        border: 1px solid rgba(0,0,0,0.2);
                                        border-radius: 50%;
                                        width: 20px;
                                        height: 20px;
                                        font-size: 0.8em;
                                        cursor: pointer;
                                        color: #333;
                                        opacity: 0.5;
                                    " title="Modifier le planning √† {{ hour }}h">
            +
        </button>
    </form>
</div>
</td>
{% endfor %}

<!-- Cellule Total du jour -->
<td style="padding: 4px; border: 1px solid #ddd; text-align: center; font-weight: bold; background: #f0f0f0;">
    {% set total_jour = totals.get(employe.id, {}).get(day_key, 0) %}
    {% if total_jour > 0 %}
    <span style="color: #1976D2;">{{ "%.1f"|format(total_jour) }}h</span>
    {% else %}
    <span style="color: #999;">-</span>
    {% endif %}

    <!-- Boutons d'actions pour la journ√©e -->
    <div style="margin-top: 2px; display: flex; gap: 2px; justify-content: center;">
        <!-- Modifier la journ√©e -->
        <form method="post" action="{{ url_for('banking.planning_modifier_jour') }}" style="display: inline;">
            <input type="hidden" name="employe_id" value="{{ employe.id }}">
            <input type="hidden" name="date" value="{{ day_key }}">
            <input type="hidden" name="employeur" value="">
            <input type="hidden" name="id_contrat" value="">
            <input type="hidden" name="annee" value="">
            <input type="hidden" name="mois" value="">
            <input type="hidden" name="semaine" value="">
            <input type="hidden" name="mode" value="planning">
            <button type="submit" class="btn btn-sm btn-outline-secondary" style="padding: 0 4px; font-size: 0.7em;"
                title="Modifier la journ√©e">
                ‚úèÔ∏è
            </button>
        </form>

        <!-- Copier la journ√©e -->
        <button type="button" class="btn btn-sm btn-outline-info" style="padding: 0 4px; font-size: 0.7em;"
            data-bs-toggle="modal" data-bs-target="#modalCopierJour" data-employe-id="{{ employe.id }}"
            data-date="{{ day_key }}" title="Copier cette journ√©e">
            üìã
        </button>

        <!-- Supprimer la journ√©e -->
        <form method="post" action="{{ url_for('banking.planning_supprimer_jour') }}" style="display: inline;"
            onsubmit="return confirm('Supprimer la journ√©e du {{ day_key }} pour {{ employe.prenom }} {{ employe.nom }} ?')">
            <input type="hidden" name="employe_id" value="{{ employe.id }}">
            <input type="hidden" name="date" value="{{ day_key }}">
            <input type="hidden" name="employeur" value="">
            <input type="hidden" name="id_contrat" value="">
            <input type="hidden" name="annee" value="">
            <input type="hidden" name="mois" value="">
            <input type="hidden" name="semaine" value="">
            <input type="hidden" name="mode" value="planning">
            <button type="submit" class="btn btn-sm btn-outline-danger" style="padding: 0 4px; font-size: 0.7em;"
                title="Supprimer la journ√©e">
                üóëÔ∏è
            </button>
        </form>
    </div>
</td>
{% endfor %}
</tr>
{% endfor %}

<!-- Ligne pour le total par heure -->
<tr style="background: #e3f2fd; font-weight: bold;">
    <td style="padding: 8px; border: 1px solid #ddd; position: sticky; left: 0; z-index: 5;">
        Employ√©s pr√©sents
    </td>

    {% for day in week_dates %}
    {% set day_key = day.strftime('%Y-%m-%d') %}

    {% for hour in range(6, 24) %}
    <td style="padding: 4px; border: 1px solid #ddd; text-align: center; font-size: 0.9em;">
        {% set count_employes = 0 %}
        {% for employe in employes %}
        {% set shifts = shifts_by_employe_jour.get(employe.id, {}).get(day_key, []) %}
        {% for shift in shifts %}
        {% if shift.heure_debut and shift.heure_fin %}
        {% set shift_start = shift.heure_debut|int if shift.heure_debut is number else
        (shift.heure_debut.split(':')[0]|int if ':' in shift.heure_debut|string else shift.heure_debut|int) %}
        {% set shift_end = shift.heure_fin|int if shift.heure_fin is number else (shift.heure_fin.split(':')[0]|int if
        ':' in shift.heure_fin|string else shift.heure_fin|int) %}
        {% if hour >= shift_start and hour < shift_end %} {% set count_employes=count_employes + 1 %} {% endif %} {%
            endif %} {% endfor %} {% endfor %} {% if count_employes> 0 %}
            <span style="color: #1976D2;">{{ count_employes }}</span>
            {% else %}
            <span style="color: #999;">0</span>
            {% endif %}
    </td>
    {% endfor %}

    <!-- Total g√©n√©ral du jour -->
    <td style="padding: 4px; border: 1px solid #ddd; text-align: center; background: #bbdefb;">
        {% set total_general_jour = 0 %}
        {% for employe in employes %}
        {% set total_general_jour = total_general_jour + totals.get(employe.id, {}).get(day_key, 0) %}
        {% endfor %}
        <span style="color: #0D47A1;">{{ "%.1f"|format(total_general_jour) }}h</span>
    </td>
    {% endfor %}
</tr>
</tbody>
</table>
</div>

<!-- Formulaire d'ajout rapide de shift -->
<div style="margin-top: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 4px; background: #f8f9fa;">
    <h5>Ajout rapide de shift</h5>
    <form method="post" action="{{ url_for('banking.planning_ajouter_shift') }}" class="row g-3">
        <div class="col-md-3">
            <label class="form-label">Employ√© :</label>
            <select class="form-select" name="employe_id" required>
                <option value="">S√©lectionner un employ√©</option>
                {% for employe in employes %}
                <option value="{{ employe.id }}">{{ employe.prenom }} {{ employe.nom }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="col-md-2">
            <label class="form-label">Date :</label>
            <input type="date" class="form-control" name="date" value="{{ week_dates[0].strftime('%Y-%m-%d') }}"
                required>
        </div>

        <div class="col-md-2">
            <label class="form-label">Heure d√©but :</label>
            <input type="time" class="form-control" name="heure_debut" value="09:00" required>
        </div>

        <div class="col-md-2">
            <label class="form-label">Heure fin :</label>
            <input type="time" class="form-control" name="heure_fin" value="17:00" required>
        </div>

        <div class="col-md-2">
            <label class="form-label">Type :</label>
            <select class="form-select" name="type_shift">
                <option value="travail">Travail</option>
                <option value="pause">Pause</option>
                <option value="formation">Formation</option>
                <option value="r√©union">R√©union</option>
                <option value="t√©l√©travail">T√©l√©travail</option>
                <option value="autre">Autre</option>
            </select>
        </div>

        <div class="col-md-12 mt-3">
            <button type="submit" class="btn btn-success">
                <i class="bi bi-plus-circle"></i> Ajouter le shift
            </button>
        </div>
    </form>
</div>

<!-- L√©gende -->
<div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 4px; border: 1px solid #ddd;">
    <h5 style="margin-top: 0;">L√©gende :</h5>
    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #4CAF50; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            Travail
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #9E9E9E; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            Pause
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #2196F3; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            Formation
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #FF9800; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            R√©union
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #9C27B0; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            T√©l√©travail
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #F44336; margin-right: 8px; vertical-align: middle; border-radius: 2px;"></span>
            Non valide
        </div>
        <div>
            <span
                style="display: inline-block; width: 20px; height: 20px; background: #f9f9f9; margin-right: 8px; vertical-align: middle; border-radius: 2px; border: 1px solid #ddd;"></span>
            Disponible
        </div>
    </div>
</div>

<!-- Navigation entre semaines -->
<div style="margin-top: 20px; display: flex; justify-content: space-between;">
    <a href="{{ url_for('banking.planning_hebdomadaire', date=prev_week) }}" class="btn btn-outline-primary">
        <i class="bi bi-chevron-left"></i> Semaine pr√©c√©dente
    </a>

    <button type="button" class="btn btn-secondary" onclick="window.print()">
        <i class="bi bi-printer"></i> Imprimer le planning
    </button>

    <a href="{{ url_for('banking.planning_hebdomadaire', date=next_week) }}" class="btn btn-outline-primary">
        Semaine suivante <i class="bi bi-chevron-right"></i>
    </a>
</div>

{% endif %}

<!-- MODALS -->

<!-- Modal pour la simulation de semaine -->
<div class="modal fade" id="modalSimulation" tabindex="-1" aria-labelledby="modalSimulationLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" action="{{ url_for('banking.planning_simulation_semaine') }}">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalSimulationLabel">Simuler la semaine</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Voulez-vous simuler cette semaine de planning ?</p>
                    <div class="mb-3">
                        <label for="simulation_employeur" class="form-label">Employeur :</label>
                        <input type="text" class="form-control" id="simulation_employeur" name="employeur" required>
                    </div>
                    <div class="mb-3">
                        <label for="simulation_id_contrat" class="form-label">ID Contrat :</label>
                        <input type="number" class="form-control" id="simulation_id_contrat" name="id_contrat" required>
                    </div>
                    <input type="hidden" name="annee" value="{{ week_dates[0].year }}">
                    <input type="hidden" name="mois" value="{{ week_dates[0].month }}">
                    <input type="hidden" name="semaine" value="{{ week_dates[0].isocalendar()[1] }}">
                    <input type="hidden" name="mode" value="planning">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn btn-primary">Simuler</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal pour r√©initialiser la semaine -->
<div class="modal fade" id="modalReset" tabindex="-1" aria-labelledby="modalResetLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" action="{{ url_for('banking.planning_reset_semaine') }}"
                onsubmit="return confirm('√ätes-vous s√ªr de vouloir r√©initialiser toute la semaine ? Cette action est irr√©versible.');">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalResetLabel">R√©initialiser la semaine</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="text-danger">
                        <strong>Attention !</strong> Cette action va supprimer tous les shifts de la semaine
                        du {{ week_dates[0].strftime('%d/%m/%Y') }} au {{ week_dates[-1].strftime('%d/%m/%Y') }}.
                    </p>
                    <p>Cette action est irr√©versible.</p>
                    <div class="mb-3">
                        <label for="reset_employeur" class="form-label">Employeur :</label>
                        <input type="text" class="form-control" id="reset_employeur" name="employeur" required>
                    </div>
                    <div class="mb-3">
                        <label for="reset_id_contrat" class="form-label">ID Contrat :</label>
                        <input type="number" class="form-control" id="reset_id_contrat" name="id_contrat" required>
                    </div>
                    <input type="hidden" name="annee" value="{{ week_dates[0].year }}">
                    <input type="hidden" name="mois" value="{{ week_dates[0].month }}">
                    <input type="hidden" name="semaine" value="{{ week_dates[0].isocalendar()[1] }}">
                    <input type="hidden" name="mode" value="planning">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn btn-danger">R√©initialiser</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal pour copier une journ√©e -->
<div class="modal fade" id="modalCopierJour" tabindex="-1" aria-labelledby="modalCopierJourLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" action="{{ url_for('banking.planning_copier_jour') }}">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalCopierJourLabel">Copier une journ√©e</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="copier_date_source" class="form-label">Date source :</label>
                        <input type="date" class="form-control" id="copier_date_source" name="source_date" required>
                    </div>
                    <div class="mb-3">
                        <label for="copier_employe_id" class="form-label">ID Employ√© :</label>
                        <input type="number" class="form-control" id="copier_employe_id" name="employe_id" required>
                    </div>
                    <div class="mb-3">
                        <label for="copier_date_cible" class="form-label">Date cible :</label>
                        <input type="date" class="form-control" id="copier_date_cible" name="target_date" required>
                    </div>
                    <div class="mb-3">
                        <label for="copier_employeur" class="form-label">Employeur :</label>
                        <input type="text" class="form-control" id="copier_employeur" name="employeur" required>
                    </div>
                    <div class="mb-3">
                        <label for="copier_id_contrat" class="form-label">ID Contrat :</label>
                        <input type="number" class="form-control" id="copier_id_contrat" name="id_contrat" required>
                    </div>
                    <input type="hidden" name="annee" value="{{ week_dates[0].year }}">
                    <input type="hidden" name="mois" value="{{ week_dates[0].month }}">
                    <input type="hidden" name="semaine" value="{{ week_dates[0].isocalendar()[1] }}">
                    <input type="hidden" name="mode" value="planning">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn btn-primary">Copier</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal pour ajouter un shift avec plus d'options -->
<div class="modal fade" id="modalAjoutShift" tabindex="-1" aria-labelledby="modalAjoutShiftLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" action="{{ url_for('banking.planning_ajouter_shift') }}">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalAjoutShiftLabel">Ajouter un cr√©neau horaire</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="ajout_employe_id" class="form-label">Employ√© :</label>
                        <select class="form-select" id="ajout_employe_id" name="employe_id" required>
                            <option value="">S√©lectionner un employ√©</option>
                            {% for employe in employes %}
                            <option value="{{ employe.id }}">{{ employe.prenom }} {{ employe.nom }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="ajout_date" class="form-label">Date :</label>
                        <input type="date" class="form-control" id="ajout_date" name="date"
                            value="{{ week_dates[0].strftime('%Y-%m-%d') }}" required>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="ajout_heure_debut" class="form-label">Heure d√©but :</label>
                            <input type="time" class="form-control" id="ajout_heure_debut" name="heure_debut"
                                value="09:00" required step="300">
                        </div>
                        <div class="col-md-6">
                            <label for="ajout_heure_fin" class="form-label">Heure fin :</label>
                            <input type="time" class="form-control" id="ajout_heure_fin" name="heure_fin" value="17:00"
                                required step="300">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="ajout_type_shift" class="form-label">Type de shift :</label>
                        <select class="form-select" id="ajout_type_shift" name="type_shift">
                            <option value="travail">Travail</option>
                            <option value="pause">Pause</option>
                            <option value="formation">Formation</option>
                            <option value="r√©union">R√©union</option>
                            <option value="t√©l√©travail">T√©l√©travail</option>
                            <option value="autre">Autre</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="ajout_commentaire" class="form-label">Commentaire :</label>
                        <textarea class="form-control" id="ajout_commentaire" name="commentaire" rows="2"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="submit" class="btn btn-primary">Ajouter</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}