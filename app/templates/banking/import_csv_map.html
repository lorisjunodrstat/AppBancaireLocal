{% extends "base.html" %}
{% block content %}
<h2>Ã‰tape 1 : Associer les colonnes du CSV</h2>
<form method="post" action="{{ url_for('banking.import_csv_confirm') }}">
  <div class="mb-3">
    <label>Date <select name="col_date" class="form-select" required>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <div class="mb-3">
    <label>Montant <select name="col_montant" class="form-select" required>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <div class="mb-3">
    <label>Type (depot/retrait/transfert) <select name="col_type" class="form-select" required>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <div class="mb-3">
    <label>Description <select name="col_description" class="form-select">
      <option value="">-- Aucune --</option>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <div class="mb-3">
    <label>Compte source <select name="col_source" class="form-select" required>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <div class="mb-3">
    <label>Compte destination (optionnel) <select name="col_dest" class="form-select">
      <option value="">-- Aucune --</option>
      {% for h in session.csv_headers %}
        <option value="{{ h }}">{{ h }}</option>
      {% endfor %}
    </select></label>
  </div>
  <button type="submit" class="btn btn-success">Continuer vers la validation</button>
</form>
{% endblock %}